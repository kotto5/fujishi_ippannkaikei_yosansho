# 富士市予算書 JSON仕様

## 基本ルール

1. **名前をキーにする**: 各レベル（款/項/目/節）は `{"名称": {データ}}` 形式
2. **配列の各要素は単一キー**: `項`, `目`, `節` の配列内の各要素は1つのキーのみ持つ
3. **金額は整数**: 千円単位で整数として格納

## 構造

```json
{
  "款名": {
    "本年度予算額": 整数,
    "前年度予算額": 整数 | null,
    "比較": 整数 | null,
    "項": [
      {
        "項名": {
          "本年度予算額": 整数,
          "前年度予算額": 整数,
          "比較": 整数,
          "目": [
            {
              "目名": {
                "本年度予算額": 整数,
                "前年度予算額": 整数,
                "比較": 整数,
                "節": [
                  {
                    "節名": {
                      "金額": 整数,
                      "説明": {} | {"事業名": {"金額": 整数}, ...}
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  }
}
```

## 例

### 正しい例

```json
{
  "市税": {
    "本年度予算額": 46460600000,
    "前年度予算額": 45999000000,
    "比較": 461600000,
    "項": [
      {
        "市民税": {
          "本年度予算額": 16739000000,
          "前年度予算額": 17573300000,
          "比較": -834300000,
          "目": [
            {
              "個人": {
                "本年度予算額": 14297700000,
                "前年度予算額": 15208500000,
                "比較": -910800000,
                "節": [
                  {
                    "現年課税分": {
                      "金額": 14150000000,
                      "説明": {
                        "均等割": {"金額": 403000000},
                        "所得割": {"金額": 13747000000}
                      }
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  }
}
```

### 間違った例

```json
// NG: フラット形式（名前がキーではなく値になっている）
{
  "款名": "市税",
  "項": [
    {"項名": "市民税", "本年度予算額": 16739000000}
  ]
}

// NG: 項の配列要素に複数キー
{
  "市税": {
    "項": [
      {"名称": "市民税", "番号": "1", "本年度予算額": 16739000000}
    ]
  }
}
```

## バリデーション

`validate_json.py` を使って検証:

```bash
python3 validate_json.py ./ocr/歳入_01_市税.json
```

✓ が表示されれば合格。
